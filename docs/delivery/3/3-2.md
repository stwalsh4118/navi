# [3-2] Implement tmux session listing

[Back to task list](./tasks.md)

## Description

Implement the logic to query live tmux sessions for cross-referencing with status files.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-05 05:26:14 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-05 05:26:47 | Status Change | InProgress | Review | Implementation complete, ready for review | AI_Agent |
| 2026-02-05 05:31:36 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. Execute `tmux list-sessions -F '#{session_name}'`
2. Parse output into slice of session names
3. Handle case where tmux is not running (no sessions)
4. Handle case where tmux command fails

## Implementation Plan

Implement in `sessions.go`:
```go
func listTmuxSessions() ([]string, error) {
    cmd := exec.Command("tmux", "list-sessions", "-F", "#{session_name}")
    output, err := cmd.Output()
    if err != nil {
        // tmux returns error if no server running
        return nil, nil
    }

    lines := strings.Split(strings.TrimSpace(string(output)), "\n")
    var sessions []string
    for _, line := range lines {
        if line != "" {
            sessions = append(sessions, line)
        }
    }
    return sessions, nil
}
```

## Test Plan

- **Objective**: Verify tmux sessions are correctly listed
- **Test Scenarios**:
  1. tmux running with sessions - returns session names
  2. tmux not running - returns empty slice
  3. tmux running with no sessions - returns empty slice
- **Success Criteria**: All scenarios handled correctly

## Verification

- [x] Executes tmux list-sessions command
- [x] Parses output into session names
- [x] Handles tmux not running
- [x] Returns empty slice on error (not nil error)

## Files Modified

- `sessions.go`
