# [14-4] Implement bulk dismiss for selected sessions

[Back to task list](./tasks.md)

## Description

Extend the dismiss action (`d` key) to operate on all selected sessions when there is an active selection. Dismiss clears notifications by marking sessions as "working" and clearing their message. No confirmation is required for this non-destructive action.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 19:04:22 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

- When sessions are selected and `d` is pressed, dismiss all selected local sessions
- Dismiss means: set status to "working" and clear the message (same as existing single dismiss)
- No confirmation required (non-destructive action)
- Remote sessions are skipped (cannot be dismissed)
- If no sessions are selected, fall back to existing single-session dismiss behavior
- Selection is NOT cleared after dismiss (user may want to perform additional actions)

## Implementation Plan

1. Modify the `d` key handler in `Update`:
   - Call `getSelectedOrCurrent()` to get target sessions
   - Filter out remote sessions
   - For each target: call the existing dismiss logic (write updated status file)
2. Use `tea.Batch` to fire dismiss commands concurrently
3. The existing `dismissSession()` function handles single session dismiss - reuse it for each target

## Test Plan

- Verify `d` with selections dismisses all selected local sessions
- Verify remote sessions are skipped during bulk dismiss
- Verify single-session dismiss still works when nothing is selected
- Verify selection is preserved after dismiss

## Verification

- [ ] Bulk dismiss works for all selected local sessions
- [ ] Remote sessions skipped
- [ ] Single-session dismiss unaffected
- [ ] Selection preserved after dismiss
- [ ] Code quality checks pass
- [ ] Tests pass

## Files Modified

