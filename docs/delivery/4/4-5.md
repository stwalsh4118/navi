# [4-5] Implement View() method

[Back to task list](./tasks.md)

## Description

Assemble the complete View() method that combines header, session list, and footer into the final TUI output.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

1. Render header at top
2. Render blank line
3. Render each session row (with selection state)
4. Render blank line
5. Render footer at bottom

## Implementation Plan

Implement in `model.go`:
```go
func (m Model) View() string {
    if m.err != nil {
        return fmt.Sprintf("Error: %v\n\nPress q to quit.", m.err)
    }

    var b strings.Builder

    // Header
    b.WriteString(m.renderHeader())
    b.WriteString("\n\n")

    // Session list
    if len(m.sessions) == 0 {
        b.WriteString(dimStyle.Render("  No active sessions"))
        b.WriteString("\n")
    } else {
        for i, session := range m.sessions {
            selected := i == m.cursor
            b.WriteString(m.renderSession(session, selected, m.width))
            b.WriteString("\n")
        }
    }

    b.WriteString("\n")

    // Footer
    b.WriteString(m.renderFooter())

    return b.String()
}
```

## Test Plan

- **Objective**: Verify complete view assembles correctly
- **Test Scenarios**:
  1. View with sessions - shows all components
  2. View with no sessions - shows "No active sessions"
  3. View with error - shows error message
- **Success Criteria**: Output matches PRD layout

## Verification

- [ ] Header renders at top
- [ ] Sessions render with correct selection
- [ ] Empty state handled
- [ ] Error state handled
- [ ] Footer renders at bottom
- [ ] Proper spacing between sections

## Files Modified

- `model.go`
