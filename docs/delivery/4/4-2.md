# [4-2] Implement status icon rendering

[Back to task list](./tasks.md)

## Description

Implement a function that returns the appropriate colored icon based on session status.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-05 05:35:35 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-05 05:36:11 | Status Change | InProgress | Review | Implementation complete, tests pass | AI_Agent |
| 2026-02-05 05:49:16 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

Map status values to icons and colors per PRD:

| Status       | Icon | Color   |
|------------- |------|---------|
| `waiting`    | ⏳   | Yellow  |
| `done`       | ✅   | Green   |
| `permission` | ❓   | Magenta |
| `working`    | ⚙️   | Cyan    |
| `error`      | ❌   | Red     |
| `unknown`    | ○    | Dim     |

## Implementation Plan

Implement in `styles.go`:
```go
func statusIcon(status string) string {
    switch status {
    case "waiting":
        return yellowStyle.Render("⏳")
    case "done":
        return greenStyle.Render("✅")
    case "permission":
        return magentaStyle.Render("❓")
    case "working":
        return cyanStyle.Render("⚙️")
    case "error":
        return redStyle.Render("❌")
    default:
        return dimStyle.Render("○")
    }
}
```

## Test Plan

- **Objective**: Verify correct icon and color for each status
- **Test Scenarios**:
  1. Each known status returns correct icon
  2. Unknown status returns default icon
- **Success Criteria**: Icons match PRD specification

## Verification

- [ ] `waiting` → ⏳ yellow
- [ ] `done` → ✅ green
- [ ] `permission` → ❓ magenta
- [ ] `working` → ⚙️ cyan
- [ ] `error` → ❌ red
- [ ] unknown → ○ dim

## Files Modified

- `styles.go` - Added statusIcon() function and icon constants
- `styles_test.go` - Created with TestStatusIcon tests for all status values
