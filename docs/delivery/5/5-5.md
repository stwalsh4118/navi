# [5-5] Implement refresh and quit

[Back to task list](./tasks.md)

## Description

Implement the `r` key for manual refresh and `q` key for quitting the application.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-05 06:04:01 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-05 06:04:33 | Status Change | InProgress | Review | Implementation complete, ready for review | AI_Agent |
| 2026-02-05 06:08:24 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. `q` or `ctrl+c` quits the application
2. `r` forces an immediate refresh
3. Both should be responsive

## Implementation Plan

Handle keys in Update():
```go
case "q", "ctrl+c":
    return m, tea.Quit

case "r":
    return m, func() tea.Msg { return pollSessions() }
```

## Test Plan

- **Objective**: Verify refresh and quit work
- **Test Scenarios**:
  1. `q` quits application
  2. `ctrl+c` quits application
  3. `r` triggers immediate refresh
  4. Refresh shows updated data
- **Success Criteria**: Standard TUI controls work

## Verification

- [ ] `q` exits cleanly
- [ ] `ctrl+c` exits cleanly
- [ ] `r` triggers poll
- [ ] View updates after refresh

## Files Modified

- `model.go` - Added 'r' key handler in Update() (q/ctrl+c already existed)
- `model_test.go` - Added TestRefreshKey and TestQuitKey tests
