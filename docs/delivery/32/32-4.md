# [32-4] Add scroll indicators to all scrollable panels

[Back to task list](./tasks.md)

## Description

Add visual scroll indicators to the task panel, session list, and preview pane so users know when content extends beyond the visible viewport. The content viewer already has a scroll indicator (`contentViewerScrollIndicator()` showing "Line X/Y (Z%)"). This task adds similar but more subtle indicators to the embedded panels - small arrows or position markers that show when there's content above/below the viewport.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-09 17:48:01 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

- Add scroll indicators to the task panel showing when items exist above/below the viewport
- Add scroll indicators to the session list showing when sessions exist above/below the viewport
- Add scroll indicators to the preview pane showing scroll position
- Indicators should be subtle (dimmed style) and not take up significant space
- When all content is visible (no scrolling needed), no indicator should be shown
- Indicators should update in real-time as the user scrolls

## Implementation Plan

1. Define a consistent indicator style:
   - Top indicator: a dimmed line like `↑ N more above` or a simple `▲` at the top of the panel
   - Bottom indicator: a dimmed line like `↓ N more below` or a simple `▼` at the bottom
   - Alternatively, a compact status in the panel header/footer showing position (e.g., `[3-15/42]`)
2. **Task panel**: Add indicator rendering in `renderTaskPanel()`:
   - After rendering the task list, if `taskScrollOffset > 0`, show top indicator
   - If `taskScrollOffset + maxLines < totalItems`, show bottom indicator
   - Reduce `maxLines` by 1 for each indicator shown to maintain total height
3. **Session list**: Add indicator rendering in `renderSessionList()`:
   - If `sessionScrollOffset > 0`, prepend a top indicator
   - If there are sessions beyond the viewport, append a bottom indicator
4. **Preview pane**: Add indicator rendering in `renderPreview()`:
   - If `previewScrollOffset > 0`, show top indicator
   - If `previewScrollOffset + maxLines < totalLines`, show bottom indicator
   - Or add a compact scroll position to the header line
5. Add constants for indicator strings to maintain consistency
6. Use `dimStyle` for all indicators to keep them unobtrusive

## Test Plan

- **Task panel indicators**: Top indicator appears when scrollOffset > 0, bottom when more items below. Neither appears when all items fit.
- **Session list indicators**: Same logic for sessions
- **Preview pane indicators**: Same logic for preview content
- **No indicators when content fits**: When total items <= viewport height, no indicators shown
- **Existing tests still pass**

## Verification

- [ ] Task panel shows scroll indicators when content overflows
- [ ] Session list shows scroll indicators when sessions overflow
- [ ] Preview pane shows scroll indicators when content overflows
- [ ] No indicators shown when all content is visible
- [ ] Indicators update dynamically as user scrolls
- [ ] Existing tests pass
- [ ] New tests cover indicator visibility logic

## Files Modified

