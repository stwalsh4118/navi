# [6-5] Add user feedback and idempotency

[Back to task list](./tasks.md)

## Description

Finalize install.sh with proper user feedback, final summary, and ensure the script is idempotent (safe to run multiple times).

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

1. Clear status messages throughout
2. Final summary of what was installed
3. Instructions for usage
4. Safe to run multiple times

## Implementation Plan

Add header and footer to `install.sh`:
```bash
#!/bin/bash
set -e

echo "╭──────────────────────────────────────╮"
echo "│  claude-sessions installer           │"
echo "╰──────────────────────────────────────╯"
echo

# ... (previous install steps)

# Final summary
echo
echo "╭──────────────────────────────────────╮"
echo "│  Installation complete!              │"
echo "╰──────────────────────────────────────╯"
echo
echo "To use claude-sessions:"
echo "  1. Start tmux sessions for your projects"
echo "  2. Launch Claude Code in each session"
echo "  3. Run 'claude-sessions' to monitor them"
echo
echo "Example:"
echo "  tmux new-session -d -s myproject -c ~/projects/myproject"
echo "  tmux send-keys -t myproject 'claude' Enter"
echo "  claude-sessions"
echo
```

Ensure idempotency:
- `mkdir -p` for directories (already handles existing)
- `cp` overwrites existing files (always gets latest)
- jq merge handles existing settings

## Test Plan

- **Objective**: Verify install is user-friendly and idempotent
- **Test Scenarios**:
  1. Fresh install - complete with all messages
  2. Repeat install - no errors, updates files
  3. Partial state - recovers gracefully
- **Success Criteria**: Clear feedback, safe to repeat

## Verification

- [ ] Clear progress messages
- [ ] Final summary with usage instructions
- [ ] Repeat run has no errors
- [ ] Files updated (not duplicated) on repeat

## Files Modified

- `install.sh`
