# [58-4] Picker Rendering

[Back to task list](./tasks.md)

## Description

Render the sound pack picker overlay as a centered dialog box matching existing TUI styling conventions. Show a scrollable list of packs with name, event count, file count, and active marker. Handle the empty-state with a helpful message.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-19 06:54:06 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

1. Add `renderSoundPackPicker() string` method to Model
2. Wire into `renderDialog()` switch for `DialogSoundPackPicker`
3. **Pack list rendering**:
   - Each row: `[✓] pack-name  (3 events, 7 files)` — checkmark for active pack
   - Highlighted row uses selection style (matching existing dialog highlight patterns)
   - Scrollable viewport: show visible slice based on `soundPackScrollOffset`
4. **Header**: Dialog title "Sound Packs" with key hints (↑↓ navigate, Enter select, p preview, Esc close)
5. **Empty state**: "No sound packs installed" with hint about `~/.config/navi/soundpacks/` directory
6. **Error display**: Show `dialogError` if set (e.g., failed to switch pack)
7. **Styling**: Use existing `dialogBoxStyle`, lipgloss centering, consistent borders/colors

## Implementation Plan

**Files to modify:**
- `internal/tui/view.go` — add `renderSoundPackPicker()` method and wire into `renderDialog()`

**Steps:**
1. Add `renderSoundPackPicker() string` method
2. Render header with title and key hints
3. Render pack list with active marker, cursor highlight, and scroll window
4. Render empty state when `len(soundPacks) == 0`
5. Render error message when `dialogError != ""`
6. Wire into `renderDialog()` switch statement
7. Center using lipgloss `PlaceHorizontal`

## Test Plan

- **Renders pack list**: Verify View() output contains pack names and counts
- **Active marker**: Verify active pack shows checkmark
- **Empty state**: Verify empty message rendered when no packs
- **Error display**: Verify dialogError text appears in rendered output

## Verification

- [ ] `go build ./...` compiles without errors
- [ ] `go vet ./internal/tui/` clean
- [ ] Visual rendering verified in task 58-5

## Files Modified

_(to be filled during implementation)_
