# [40-4] Install script OpenCode plugin deployment

[Back to task list](./tasks.md)

## Description

Extend `install.sh` to deploy the OpenCode navi plugin to `~/.config/opencode/plugins/` so that OpenCode automatically loads it on startup.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-15 19:24:55 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

1. Install script creates `~/.config/opencode/plugins/` directory if it doesn't exist
2. Install script copies `plugins/opencode/navi.js` to `~/.config/opencode/plugins/navi.js`
3. Installation is unconditional (no prompt) — the plugin is lightweight and harmless if OpenCode isn't installed
4. Success message displayed: `✓ Installed OpenCode navi plugin`
5. Error message if source plugin file is missing (non-fatal — continue installation)
6. Existing install.sh behavior for Claude Code hooks is unchanged

## Implementation Plan

1. After the Claude Code hooks installation block (around line 44), add an OpenCode plugin section
2. Create target directory: `mkdir -p "$HOME/.config/opencode/plugins"`
3. Copy plugin: `cp "$SCRIPT_DIR/plugins/opencode/navi.js" "$HOME/.config/opencode/plugins/"`
4. Display confirmation or warning
5. Update the final summary to mention OpenCode support

## Test Plan

- **Fresh install**: Run install.sh on a system without `~/.config/opencode/`, verify directory created and plugin copied
- **Existing directory**: Run install.sh when `~/.config/opencode/plugins/` already exists, verify plugin copied without error
- **Missing source**: Temporarily rename `plugins/opencode/navi.js`, run install.sh, verify warning but no fatal error

## Verification

_To be filled during implementation._

## Files Modified

_To be filled during implementation. Expected:_
- `install.sh`
