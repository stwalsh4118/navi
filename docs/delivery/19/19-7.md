# [19-7] Add remote filter capability

[Back to task list](./tasks.md)

## Description

Add the ability to filter the session list by local/remote sessions. This allows users to focus on sessions from a specific source when managing many sessions across multiple machines.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 13:58:48 | Created | N/A | Proposed | Task file created | AI_Agent |

## Requirements

- Add filter state to Model (all/local/remote/specific-remote)
- Add keybinding to cycle through filter options (e.g., `f` key)
- Display current filter state in header or footer
- Filter affects session list display but not underlying data
- Maintain cursor position when filter changes (or reset to 0)
- Filter persists until explicitly changed

## Implementation Plan

1. Add filter types and state to `model.go`:
   - `FilterMode` enum: All, Local, Remote, ByRemoteName
   - `filterMode FilterMode` field in Model
   - `filterRemote string` for specific remote filtering
2. Update `renderSessionList()` in `view.go`:
   - Filter sessions based on current filter mode
   - Apply filter before iterating
3. Add keybinding for filter toggle:
   - `f` to cycle: All -> Local -> Remote -> All
   - Or open a filter selection dialog
4. Update footer to show current filter state
5. Adjust cursor bounds after filter changes

## Test Plan

**Objective**: Verify filtering works correctly for all modes.

**Test Scenarios**:
- Default filter shows all sessions
- Local filter shows only sessions with empty Remote
- Remote filter shows only sessions with non-empty Remote
- Filter change updates display immediately
- Cursor adjusts when filter reduces list size

**Success Criteria**:
- All filter modes work correctly
- UI indicates current filter
- No crashes on empty filtered results

## Verification

- [ ] Filter state added to Model
- [ ] Filter keybinding implemented
- [ ] Session list respects filter
- [ ] Current filter displayed in UI
- [ ] Cursor handling on filter change
- [ ] Code quality checks pass
- [ ] Tests pass

## Files Modified

