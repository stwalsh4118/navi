# [1-2] Define core data types

[Back to task list](./tasks.md)

## Description

Create the core data structures as specified in the PRD: `SessionInfo` for session data, `Model` for Bubble Tea state, and message types for Bubble Tea communication.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 00:00:00 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-05 01:33:23 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-05 01:33:42 | Status Change | InProgress | Review | Implementation complete, ready for review | AI_Agent |

## Requirements

1. Define `SessionInfo` struct with JSON tags matching hook output
2. Define `Model` struct with required fields for Bubble Tea
3. Define message types: `tickMsg`, `sessionsMsg`, `attachDoneMsg`
4. Types must be exported for use across packages

## Implementation Plan

1. Create `model.go` file
2. Define `SessionInfo` struct:
   ```go
   type SessionInfo struct {
       TmuxSession string `json:"tmux_session"`
       Status      string `json:"status"`
       Message     string `json:"message"`
       CWD         string `json:"cwd"`
       Timestamp   int64  `json:"timestamp"`
   }
   ```
3. Define `Model` struct:
   ```go
   type Model struct {
       sessions []SessionInfo
       cursor   int
       width    int
       height   int
       err      error
   }
   ```
4. Define message types:
   ```go
   type tickMsg time.Time
   type sessionsMsg []SessionInfo
   type attachDoneMsg struct{}
   ```

## Test Plan

- **Objective**: Verify types compile and can be used
- **Success Criteria**: Project compiles without type errors

## Verification

- [ ] `SessionInfo` struct defined with correct JSON tags
- [ ] `Model` struct defined with all fields
- [ ] Message types defined
- [ ] Code compiles successfully

## Files Modified

- `model.go` (created)
