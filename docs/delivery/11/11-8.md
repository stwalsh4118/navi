# [11-8] Add preview pane resizing

[Back to task list](./tasks.md)

## Description

Allow users to resize the preview panel using keyboard shortcuts, enabling them to adjust the balance between the session list and preview pane.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-05 09:48:56 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-05 10:01:51 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-05 10:04:29 | Status Change | InProgress | Review | Implementation complete | AI_Agent |
| 2026-02-05 11:02:56 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

- Add keybindings to resize preview pane
- Suggested keys: `[` to shrink, `]` to expand
- Respect minimum and maximum width constraints
- Persist resize within session (not across restarts)
- Only active when preview is visible
- Update footer help text with resize keys

## Implementation Plan

1. Add resize keybindings in Update():
   ```go
   case "[":
       if m.previewVisible {
           m.previewWidth = max(m.previewWidth - previewResizeStep, previewMinWidth)
       }
       return m, nil
   case "]":
       if m.previewVisible {
           maxWidth := m.width - sessionListMinWidth
           m.previewWidth = min(m.previewWidth + previewResizeStep, maxWidth)
       }
       return m, nil
   ```
2. Define constants in preview.go:
   - `previewResizeStep` - Pixels/columns per resize action (e.g., 5)
   - `previewMinWidth` - Minimum preview width
   - `sessionListMinWidth` - Minimum session list width
3. Update `renderPreview()` to use `m.previewWidth`
4. Ensure layout calculations respect these constraints
5. Update footer help text to include `[/] resize`

## Test Plan

**Medium task - verify resize behavior:**

- `[` key shrinks preview pane
- `]` key expands preview pane
- Minimum width is respected
- Maximum width is respected (doesn't crush session list)
- Resize keys only work when preview visible
- Footer help updated

## Verification

- [ ] Resize keybindings implemented
- [ ] Width constraints enforced
- [ ] Layout updates correctly after resize
- [ ] Keys ignored when preview hidden
- [ ] Footer help includes resize keys
- [ ] Code quality checks pass
- [ ] Tests pass

## Files Modified

- `model.go` - Added [ and ] key handlers for resize
- `view.go` - Updated footerHelp to include resize keys
- `model_test.go` - Added TestPreviewResize tests
- `view_test.go` - Updated test width for longer footer
- `dialog_test.go` - Updated test width for longer footer
- `e2e_session_actions_test.go` - Updated test width for longer footer
